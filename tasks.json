{
  "project": "GGDS Benevolent Fund - Contribution Platform (PIVOT v2.0)",
  "currentPhase": "Phase 0: Pivot Preparation",
  "pivotDate": "2025-10-23",
  "lastUpdated": "2025-10-23",
  "description": "Pivoting from crowdfunding to contribution tracking system for bereaved members",
  "tasks": [
    {
      "id": 1,
      "phase": 0,
      "category": "Database Models",
      "title": "Update Member model with member_id and profile fields",
      "description": "Add member_id (auto-generated GGDS-XXXX), profile_completed, profile_data (JSON), on_probation, is_first_login fields",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [],
      "files": [
        "ggds-backend/app/models/member.py"
      ]
    },
    {
      "id": 2,
      "phase": 0,
      "category": "Database Models",
      "title": "Create Contribution model",
      "description": "New model with case_id, member_id, amount, deadline, status, payment_reference",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [],
      "files": [
        "ggds-backend/app/models/contribution.py"
      ]
    },
    {
      "id": 3,
      "phase": 0,
      "category": "Database Models",
      "title": "Create Probation model",
      "description": "New model to track members on probation for missed contributions",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 1.5,
      "dependencies": [],
      "files": [
        "ggds-backend/app/models/probation.py"
      ]
    },
    {
      "id": 4,
      "phase": 0,
      "category": "Database Models",
      "title": "Update Case model for immediate family only",
      "description": "Add case_number, relationship (enum: mother/father/spouse/son/daughter), total_amount_required, total_amount_collected, disbursement_date, confirmed_receipt",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [],
      "files": [
        "ggds-backend/app/models/case.py"
      ]
    },
    {
      "id": 5,
      "phase": 0,
      "category": "Database Migration",
      "title": "Create Alembic migration for pivot",
      "description": "Generate and test migration script for all model changes",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [1, 2, 3, 4],
      "files": [
        "ggds-backend/alembic/versions/"
      ]
    },
    {
      "id": 6,
      "phase": 0,
      "category": "Frontend Restructure",
      "title": "Comment out registration page",
      "description": "Preserve but disable self-registration, add notice to contact admin",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 1,
      "dependencies": [],
      "files": [
        "ggds-benevolent-fund/app/register/page.js"
      ],
      "notes": "Mark with '// PIVOT v2.0: Self-registration removed'"
    },
    {
      "id": 7,
      "phase": 0,
      "category": "Frontend Restructure",
      "title": "Simplify homepage",
      "description": "Keep only Sign In, FAQ, About, Contact sections. Remove crowdfunding elements",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [],
      "files": [
        "ggds-benevolent-fund/app/page.js"
      ]
    },
    {
      "id": 8,
      "phase": 0,
      "category": "Frontend Restructure",
      "title": "Move report-case to dashboard/cases/file",
      "description": "Relocate case filing to dashboard and update immediate family only",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [],
      "files": [
        "ggds-benevolent-fund/app/report-case/page.js",
        "ggds-benevolent-fund/app/dashboard/cases/file/page.js"
      ]
    },
    {
      "id": 9,
      "phase": 1,
      "category": "Backend - Admin Member Creation",
      "title": "Implement POST /api/admin/members/create endpoint",
      "description": "Admin creates member with auto-generated member_id (GGDS-XXXX) and initial password",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 4,
      "dependencies": [5],
      "files": [
        "ggds-backend/app/routers/admin.py",
        "ggds-backend/app/services/member_service.py",
        "ggds-backend/app/schemas/admin.py"
      ]
    },
    {
      "id": 10,
      "phase": 1,
      "category": "Backend - Admin Member Creation",
      "title": "Implement member welcome email with credentials",
      "description": "Send email with member_id and initial password to new members",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [9],
      "files": [
        "ggds-backend/app/services/notification_service.py"
      ]
    },
    {
      "id": 11,
      "phase": 1,
      "category": "Backend - Profile Completion",
      "title": "Implement POST /api/members/profile/complete endpoint",
      "description": "Allow members to complete profile once (immutable after submission)",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [9],
      "files": [
        "ggds-backend/app/routers/members.py",
        "ggds-backend/app/schemas/member.py"
      ]
    },
    {
      "id": 12,
      "phase": 1,
      "category": "Frontend - Admin UI",
      "title": "Create admin member creation form",
      "description": "UI for admin to input: first name, middle name, surname, email, phone",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [9],
      "files": [
        "ggds-benevolent-fund/app/admin/members/create/page.js"
      ]
    },
    {
      "id": 13,
      "phase": 1,
      "category": "Frontend - Profile Completion",
      "title": "Create profile completion flow with confirmation",
      "description": "Multi-step form with final confirmation before immutable submission",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 4,
      "dependencies": [11],
      "files": [
        "ggds-benevolent-fund/app/dashboard/profile/complete/page.js"
      ]
    },
    {
      "id": 14,
      "phase": 1,
      "category": "Frontend - First Login",
      "title": "Implement first-login detection and redirect",
      "description": "Detect is_first_login and redirect to profile completion",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [13],
      "files": [
        "ggds-benevolent-fund/app/signin/page.js",
        "ggds-benevolent-fund/middleware.js"
      ]
    },
    {
      "id": 15,
      "phase": 2,
      "category": "Backend - Case Filing",
      "title": "Update POST /api/cases with immediate family validation",
      "description": "Restrict relationship to mother, father, spouse, son, daughter only. Auto-generate case_number",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [5],
      "files": [
        "ggds-backend/app/routers/cases.py",
        "ggds-backend/app/schemas/case.py"
      ]
    },
    {
      "id": 16,
      "phase": 2,
      "category": "Backend - Case Approval",
      "title": "Update case approval to auto-create contributions",
      "description": "When case approved, create contribution records for all active members with deadlines",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 4,
      "dependencies": [15, 2],
      "files": [
        "ggds-backend/app/routers/cases.py",
        "ggds-backend/app/services/case_service.py",
        "ggds-backend/app/services/contribution_service.py"
      ]
    },
    {
      "id": 17,
      "phase": 2,
      "category": "Backend - Case Approval",
      "title": "Implement notification to all members on case approval",
      "description": "Email all 120 members when a case is approved",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [16],
      "files": [
        "ggds-backend/app/services/notification_service.py"
      ]
    },
    {
      "id": 18,
      "phase": 2,
      "category": "Frontend - Case Filing",
      "title": "Update case filing form with immediate family dropdown",
      "description": "Replace open text with dropdown: Mother, Father, Spouse, Son, Daughter",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [8],
      "files": [
        "ggds-benevolent-fund/app/dashboard/cases/file/page.js"
      ]
    },
    {
      "id": 19,
      "phase": 2,
      "category": "Frontend - Admin Case Review",
      "title": "Create admin case approval UI",
      "description": "List pending cases, view details, approve/reject with notes",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 4,
      "dependencies": [16],
      "files": [
        "ggds-benevolent-fund/app/admin/cases/page.js",
        "ggds-benevolent-fund/app/admin/cases/[id]/page.js"
      ]
    },
    {
      "id": 20,
      "phase": 3,
      "category": "Backend - Contributions",
      "title": "Implement POST /api/contributions endpoint",
      "description": "Record member contribution to specific case with payment reference",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [2, 16],
      "files": [
        "ggds-backend/app/routers/contributions.py",
        "ggds-backend/app/services/contribution_service.py"
      ]
    },
    {
      "id": 21,
      "phase": 3,
      "category": "Backend - Contributions",
      "title": "Implement GET /api/contributions/by-case/{case_id}",
      "description": "List all contributions for a specific case (admin view)",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [20],
      "files": [
        "ggds-backend/app/routers/contributions.py"
      ]
    },
    {
      "id": 22,
      "phase": 3,
      "category": "Backend - Contributions",
      "title": "Implement GET /api/contributions/member/pending",
      "description": "Get current user's pending contributions",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [20],
      "files": [
        "ggds-backend/app/routers/contributions.py"
      ]
    },
    {
      "id": 23,
      "phase": 3,
      "category": "Backend - Probation",
      "title": "Implement probation flagging logic",
      "description": "Cron job or trigger to flag members who miss contribution deadlines",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [3, 20],
      "files": [
        "ggds-backend/app/services/probation_service.py"
      ]
    },
    {
      "id": 24,
      "phase": 3,
      "category": "Backend - Probation",
      "title": "Implement GET /api/admin/probation endpoint",
      "description": "Admin view of all members on probation",
      "priority": "medium",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [23],
      "files": [
        "ggds-backend/app/routers/admin.py"
      ]
    },
    {
      "id": 25,
      "phase": 3,
      "category": "Frontend - Contributions",
      "title": "Create contribution interface for members",
      "description": "View active cases, select case, make contribution",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 4,
      "dependencies": [20],
      "files": [
        "ggds-benevolent-fund/app/dashboard/contributions/page.js"
      ]
    },
    {
      "id": 26,
      "phase": 3,
      "category": "Frontend - Contributions",
      "title": "Display pending contributions on dashboard",
      "description": "Show members which cases require contribution and deadlines",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [22],
      "files": [
        "ggds-benevolent-fund/app/dashboard/page.js"
      ]
    },
    {
      "id": 27,
      "phase": 3,
      "category": "Frontend - Admin",
      "title": "Create contribution tracking UI for admin",
      "description": "View which members have/haven't contributed per case",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [21],
      "files": [
        "ggds-benevolent-fund/app/admin/contributions/[case_id]/page.js"
      ]
    },
    {
      "id": 28,
      "phase": 4,
      "category": "Backend - Disbursement",
      "title": "Implement POST /api/cases/{id}/disburse endpoint",
      "description": "Admin marks funds as disbursed with date and notes",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [15],
      "files": [
        "ggds-backend/app/routers/cases.py"
      ]
    },
    {
      "id": 29,
      "phase": 4,
      "category": "Backend - Disbursement",
      "title": "Implement POST /api/cases/{id}/confirm-receipt endpoint",
      "description": "Member confirms receipt of disbursed funds",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [28],
      "files": [
        "ggds-backend/app/routers/cases.py"
      ]
    },
    {
      "id": 30,
      "phase": 4,
      "category": "Backend - Notifications",
      "title": "Create email templates for all notification types",
      "description": "Templates for: welcome, case approved, contribution received, disbursement, completion, probation warning",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 4,
      "dependencies": [],
      "files": [
        "ggds-backend/app/templates/emails/"
      ]
    },
    {
      "id": 31,
      "phase": 4,
      "category": "Backend - Notifications",
      "title": "Implement all notification triggers",
      "description": "Set up triggers for all email notifications in workflow",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [30],
      "files": [
        "ggds-backend/app/services/notification_service.py"
      ]
    },
    {
      "id": 32,
      "phase": 4,
      "category": "Frontend - Disbursement",
      "title": "Create admin disbursement UI",
      "description": "Button/form for admin to mark funds as disbursed",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [28],
      "files": [
        "ggds-benevolent-fund/app/admin/cases/[id]/disburse/page.js"
      ]
    },
    {
      "id": 33,
      "phase": 4,
      "category": "Frontend - Disbursement",
      "title": "Create member receipt confirmation UI",
      "description": "Allow member to confirm they received funds",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [29],
      "files": [
        "ggds-benevolent-fund/app/dashboard/cases/[id]/confirm/page.js"
      ]
    },
    {
      "id": 34,
      "phase": 4,
      "category": "Frontend - Notifications",
      "title": "Create notification center UI",
      "description": "Bell icon with dropdown showing recent notifications",
      "priority": "medium",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [],
      "files": [
        "ggds-benevolent-fund/components/NotificationCenter.js"
      ]
    },
    {
      "id": 35,
      "phase": 5,
      "category": "Testing",
      "title": "End-to-end flow testing",
      "description": "Test complete flow: admin creates member → member completes profile → files case → admin approves → members contribute → disburse → confirm",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 6,
      "dependencies": [9, 11, 15, 16, 20, 28, 29],
      "files": [
        "ggds-backend/tests/test_e2e_pivot.py"
      ]
    },
    {
      "id": 36,
      "phase": 5,
      "category": "Testing",
      "title": "Multi-case scenario testing",
      "description": "Test handling of multiple simultaneous cases (Case 1, 2, 3)",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 3,
      "dependencies": [35],
      "files": [
        "ggds-backend/tests/test_multi_case.py"
      ]
    },
    {
      "id": 37,
      "phase": 5,
      "category": "Testing",
      "title": "Probation logic testing",
      "description": "Test deadline tracking and probation flagging",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [23],
      "files": [
        "ggds-backend/tests/test_probation.py"
      ]
    },
    {
      "id": 38,
      "phase": 5,
      "category": "Testing",
      "title": "Email delivery testing",
      "description": "Verify all email types send correctly with proper content",
      "priority": "high",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [31],
      "files": [
        "ggds-backend/tests/test_notifications.py"
      ]
    },
    {
      "id": 39,
      "phase": 6,
      "category": "Deployment",
      "title": "Database migration to production",
      "description": "Run Alembic migrations on production database with backups",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 2,
      "dependencies": [5],
      "files": []
    },
    {
      "id": 40,
      "phase": 6,
      "category": "Deployment",
      "title": "Deploy backend to Render",
      "description": "Deploy updated backend with new models and endpoints",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 1,
      "dependencies": [39],
      "files": []
    },
    {
      "id": 41,
      "phase": 6,
      "category": "Deployment",
      "title": "Deploy frontend to Vercel",
      "description": "Deploy restructured frontend with pivot changes",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 1,
      "dependencies": [40],
      "files": []
    },
    {
      "id": 42,
      "phase": 6,
      "category": "Deployment",
      "title": "Create admin account and test",
      "description": "Create initial admin account and verify all functions work",
      "priority": "critical",
      "status": "pending",
      "estimatedHours": 1,
      "dependencies": [41],
      "files": []
    }
  ],
  "phases": [
    {
      "id": 0,
      "name": "Pivot Preparation",
      "status": "in_progress",
      "startDate": "2025-10-23",
      "estimatedDuration": "2-3 days",
      "progress": 0,
      "tasks": [1, 2, 3, 4, 5, 6, 7, 8]
    },
    {
      "id": 1,
      "name": "Admin Member Management",
      "status": "pending",
      "estimatedDuration": "1 week",
      "tasks": [9, 10, 11, 12, 13, 14]
    },
    {
      "id": 2,
      "name": "Case Filing & Approval",
      "status": "pending",
      "estimatedDuration": "1 week",
      "tasks": [15, 16, 17, 18, 19]
    },
    {
      "id": 3,
      "name": "Contribution System",
      "status": "pending",
      "estimatedDuration": "1.5 weeks",
      "tasks": [20, 21, 22, 23, 24, 25, 26, 27]
    },
    {
      "id": 4,
      "name": "Disbursement & Notifications",
      "status": "pending",
      "estimatedDuration": "1 week",
      "tasks": [28, 29, 30, 31, 32, 33, 34]
    },
    {
      "id": 5,
      "name": "Testing & QA",
      "status": "pending",
      "estimatedDuration": "1 week",
      "tasks": [35, 36, 37, 38]
    },
    {
      "id": 6,
      "name": "Production Deployment",
      "status": "pending",
      "estimatedDuration": "3-5 days",
      "tasks": [39, 40, 41, 42]
    }
  ],
  "metadata": {
    "totalTasks": 42,
    "estimatedTotalHours": 105,
    "estimatedWeeks": 4,
    "criticalTasks": 14,
    "highPriorityTasks": 17,
    "mediumPriorityTasks": 4
  }
}
